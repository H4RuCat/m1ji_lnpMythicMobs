m1ji_CosmonicStraight_Use:
 Cooldown: 2
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_CosmonicStraight_m1ji_} true
 - hasMana{a=>1} true
 Skills:
 - modifyMana{a=-10} @self
 - p{oT=[
      - e:p{c=#00bfff;a=4;hs=0.5;vs=0.5;audience=caster} @origin
      - e:p{c=#4682b4;a=4;hs=0.5;vs=0.5;audience=caster} @origin
      - e:p{c=#00ffff;a=4;hs=0.5;vs=0.5;audience=caster} @origin
      - e:p{c=#0000d2;a=8;audience=caster} @origin
      - e:p{p=firework;audience=caster} @origin
     ];
     oH=[
      - e:p{c=#191970;hs=0.5;vs=0.5;fromOrigin=true;audience=caster} @target  
      - e:p{c=#4169e1;hs=0.5;vs=0.5;fromOrigin=true;audience=caster} @target  
      - damage{a=5;pi=true;type=none}
      - e:p{p=flash;audience=caster} @origin
     ];
     oE=[
      - e:p{p=flash;audience=caster} @origin
      - damage{a=2;type=none} @EIR{r=3;ignore=players}
     ];
     d=2000;
     mr=30;
     v=18;
     i=1;
     hS=1.25;
     vS=1.25;
     hp=false;
     hnp=true
    } @TL

m1ji_Axelia_Use:
 Cooldown: 3
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_Axelia_m1ji_} true
 - hasMana{a=>1} true
 Skills:
 - modifyMana{a=-20} @self
 - setvariable{var=caster.radius;type=FLOAT;value=3}
 - p{oT=[
     - e:p{p=flame;audience=caster} @origin
     - e:p{p=soul_fire_flame;fromOrigin=true;audience=caster} @forward{f=-20}
     ];
     oH=[
     - o{oT=[
        - e:p{p=soul_fire_flame;audience=caster} @origin
        - modifyProjectile{trait=RADIUS;action=SET;value=<caster.var.radius>}
        - varmath{var=caster.radius;e="<caster.var.radius>-0.0515039"}
         ];
        oE=[
        - e:p{p=largeexplosion;audience=caster} @origin
        - damage{a=7;pi=true;type=none}
        - e:p{p=flash;audience=caster} @origin
         ];
        oS=[
        - potion{t=SLOW;d=60;l=200}
        - potion{t=JUMP;d=60;l=190}
            ];
        points=150;
        i=1;
        d=60;
        c=1;
        StartingPoint=75;
        r=3} @target
    - o{oT=[
        - e:p{p=soul_fire_flame;audience=caster} @origin
        - modifyProjectile{trait=RADIUS;action=SET;value=<caster.var.radius>}
         ];
        points=150;
        i=1;
        d=60;
        c=1;
        StartingPoint=37;
        r=3} @target
    - o{oT=[
        - e:p{p=soul_fire_flame;audience=caster} @origin
        - modifyProjectile{trait=RADIUS;action=SET;value=<caster.var.radius>}
         ];
        points=150;
        i=1;
        d=60;
        c=1;
        StartingPoint=0;
        r=3} @target
    - o{oT=[
        - e:p{p=soul_fire_flame;audience=caster} @origin
        - modifyProjectile{trait=RADIUS;action=SET;value=<caster.var.radius>}
         ];
        points=150;
        i=1;
        d=60;
        c=1;
        StartingPoint=112;
        r=3} @target    
    ];
     i=1;
     v=15;
     mr=30;
     d=100;
     hp=false;
     hnp=true
    } @TL

m1ji_EternalBlessings_Use:
 Cooldown: 18
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_EternalBlessings_m1ji_} true
 - hasMana{a=>1} true
 Skills:
 - modifyMana{a=-55} @self
 - p{oT=[
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=+0.05}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=+0.10}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=+0.15}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=-0.05}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=-0.10}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{yoffset=-0.15}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=+0.05}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=+0.10}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=+0.15}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=-0.05}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=-0.10}
     - e:p{c=#EE82EE;size=0.20;fo=true;audience=caster} @origin{sideoffset=-0.15}
     ];
     oE=[
     - skill{s=m1ji_EternalBlessings_UseField}
     ];
     i=1;
     d=60;
     v=7;
     mr=100;
     g=0.25;
     syo=1.5;
     hp=false;
     } @TL

m1ji_EternalBlessings_UseField:
 Skills:
 - setvariable{var=target.towa_usefield;val=0.00;type=FLOAT} @self
 - totem{oT=[
     - variableadd{var=target.towa_usefield;a=0.05} @self ?!varRange{var=caster.towa_usefield;val=>2.5}
     - e:pr{c=#EE82EE;size=0.35;r=<caster.var.towa_usefield>;points=200;audience=caster;a=1;fo=true}
     - p{oT=[
         - e:p{c=#AFEEEE;a=1;size=0.75;fo=true;audience=caster}
         ];
         oE=[
         - p{oT=[
             - e:p{c=#EE82EE;a=1;size=0.45;fo=true;audience=caster}
             ];
             oH=[
             - setvariable{var=3;type=FLOAT;value=2.5}
             - damage{a=3;pi=true;pkb=true;type=none}
             ];
             d=60;
             mr=40;
             vO=0.5;
             g=0.5;
             i=2;
             v=2;
             fo=true;
             hnp=true;
             hp=false;
             sE=false;
             hR=1.25;
             vR=1.25
             } @RLNTE{a=7;r=2.5;s=1.5}
         ];
         oH=[
         - setvariable{var=3;type=FLOAT;value=3.75}
         - damage{a=3;pi=true;pkb=true;type=none}
         ];
         md=100;
         v=3;
         i=2;
         fo=true;
         cd=1.25;
         hnp=true;
         hp=false;
         sE=false
         } @RLNTE{a=8;r=7;s=1} ?varRange{var=caster.towa_usefield;val=>2.5}
     - e:ps{c=#AFEEEE;m=ice;r=0.5;a=200;size=0.25;fo=true;audience=caster} @origin{yoffset=1.5}
     ];
     md=200;
     } @origin{yoffset=-0.75}

m1ji_EternalIcicle_Swing:
 Cooldown: 16
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_EternalIcicle_m1ji_} true
 - hasMana{a=>1} true
 - onground{} true
 Skills:
 - modifyMana{a=-55} @self
 - sound{s=block.enchantment_table.use;v=2;p=2} @EIR{r=10}
 - sound{s=block.enchantment_table.use;v=2;p=2} @self
 - totem{oT=[
     - e:pr{c=#72C6EF;points=100;a=1;r=10} @origin
     - e:p{c=#F0F8FF;hS=4;a=85;audience=caster} @origin
     - e:p{c=#F0F8FF;hS=4;a=15} @origin
     ];
     md=60;
     oS=m1ji_EternalIcicle_Swing_1;
     oE=[
     - damage{a=3;type=none;fo=true} @EIR{r=10;ignore=players}
     - sound{s=entity.evoker_fangs.attack;v=2;p=1.25;repeat=4;repeatInterval=1} @EIR{r=10}
     ];
     md=30
     } @selfLocation{y=-1}
     
m1ji_EternalIcicle_Swing_1:
 Skills:
 - delay 30
 - totem{oS=[
     - p{oT=[
         - e:p{p=endrod;audience=caster} @origin
         - e:p{p=snowflake;audience=caster} @origin
         ];
         vO=90;
         v=5;
         mr=1.5;
         d=100;
         syo=-1;
         hp=false;
         i=1;
         fo=true
         } @origin
     ];
     md=1
     } @RLNTE{a=30;r=9;s=1;minr=0}
 
m1ji_EternalIcicle_Shoot:
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_EternalIcicle_m1ji_} true
 Skills:
 - cancelEvent
 - p{oT=[
      - e:p{p=snowflake;audience=caster} @origin
      - e:p{p=crit;fo=true;audience=caster} @ProjectileForward{f=0.5}
      - modifyProjectile{trait=gravity;action=MULTIPLY;value=0.1}
     ];
     oH=[
      - damage{a=5;type=none;pi=true}    
     ];
     d=60;
     v=45;
     g=0.05;
     hp=false;
     hnp=true
     } @TL
 - skill{s=m1ji_EternalIcicle_Shoot1}

m1ji_EternalIcicle_Shoot1:
 Cooldown: 6
 Skills:
 - delay 5
 - p{oT=[
      - e:p{p=snowflake;audience=caster} @origin
      - e:p{p=crit;fo=true;audience=caster} @ProjectileForward{f=0.5}
      - modifyProjectile{trait=gravity;action=MULTIPLY;value=0.1}
     ];
     oH=[
      - damage{a=6;type=none;pi=true}    
     ];
     oS=[
      - sound{s=entity.arrow.shoot;v=1.5;p=1.535}
     ];
     d=60;
     v=45;
     g=0.05;
     hnp=true;
     hp=false;
     repeat=3;
     repeatInterval=5
     } @TL ?wearing{s=HAND;m=PvE_Weapon_EternalIcicle_m1ji_}

m1ji_GenesisPearl_Swing:
 Cooldown: 12
 Conditions:
 - wearing{s=HAND;m=PvE_Weapon_GenesisPearl_m1ji_} true
 - hasMana{a=>1} true
 Skills:
 - modifyMana{a=-100} @self
 - totem{oT=[
     - e:pr{p=glow;r=4;pts=10;a=1} 
     - e:pr{p=glow;r=4;pts=30;a=1;audience=caster} 
     - e:pr{p=electric_spark;r=1;a=5;hS=1.2;pts=15;audience=caster;cd=0.15} 
    ];
    oE=[
     - sudoskill{s=m1ji_GenesisPearl_Leap} @ENO{r=4;ignore=players}
     - damage{a=4} @ENO{r=3;ignore=players}
    ];
    md=15;
    hp=false;
    } @Forward{f=3.5}

m1ji_GenesisPearl_Leap:
 Skills:
 - leap{v=-500} @trigger{y=-1.5}

m1ji_GenesisPearl_Use1:
 Conditions:
 - hasaura genesispearl_ct false
 - hasaura genesispearl_charge false
 - wearing{s=HAND;m=PvE_Weapon_GenesisPearl_m1ji_} true
 - hasMana{a=>100} true
 Skills:
 - setVar{var=caster.genesispearl;val=0;type=FLOAT} @self
 - aura{auraName=genesispearl_ct;d=160} @self
 - aura{auraName=genesispearl_charge;oT=m1ji_GenesisPearl_Use_oT;oE=m1ji_GenesisPearl_Use_oE;d=8;i=1} @self
 - modifyMana{a=-100} @self
 - message{m="m1ji_GenesisPearl_Use1"} @self

m1ji_GenesisPearl_Use2:
 Conditions:
 - hasaura genesispearl_charge true
 - wearing{s=HAND;m=PvE_Weapon_GenesisPearl_m1ji_} true
 - varInRange{var=caster.genesispearl;val=>8.0} false
 Skills:
 - aura{auraName=genesispearl_charge;oT=m1ji_GenesisPearl_Use_oT;oE=m1ji_GenesisPearl_Use_oE;d=6;i=1} @self
 - message{m="m1ji_GenesisPearl_Use2"} @self

m1ji_GenesisPearl_Use_oT:
 Skills:
 - setVar{var=caster.genesispearl;val=<caster.var.genesispearl|0>+0.4;type=FLOAT} @self
 - message{m="<caster.var.genesispearl|0>"} @self
 - e:pr{p=electric_spark;r=<caster.var.genesispearl>;pts=40;audience=caster} @self
 - skill{s=m1ji_GenesisPearl_Use_END} @self

m1ji_GenesisPearl_Use_END:
 Conditions:
 - varInRange{var=caster.genesispearl;val=>8.0} true
 Skills:
 - auraremove{aura=genesispearl_charge} @self

m1ji_GenesisPearl_Use_oE:
 Skills:
 - message{m="m1ji_GenesisPearl_Use_oE"} @self
 - e:pr{p=electric_spark;r=<caster.var.genesispearl>*0.8;pts=40;a=1;audience=caster} @self
 - e:pr{p=poof;r=3;a=1;points=20;d=true;dir=0,-10,0;s=0.5;delay=3} @origin
 - e:pr{p=poof;r=5;a=1;points=20;d=true;dir=0,-10,0;s=0.5;delay=5} @origin
 - e:pr{p=poof;r=<caster.var.genesispearl>*0.8;a=1;points=20;d=true;dir=0,-10,0;s=0.5;delay=7} @origin
 - pull{v=<caster.var.genesispearl>;to=true} @EIR{r=<caster.var.genesispearl>*0.8;ignore=players}
 - damage{a=<caster.var.genesispearl>*0.6} @EIR{r=<caster.var.genesispearl>*0.8;ignore=players}